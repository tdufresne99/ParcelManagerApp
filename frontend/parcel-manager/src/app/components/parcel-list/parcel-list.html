<h2>Parcel List</h2>
<table>
  <thead>
    <tr>
      <th>Tracking number</th>
      <th>Name</th>
      <th>Weight (lbs)</th>
      <th>Status</th>
      <th>Recipient</th>
      <th>Delivery Address</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngIf="GetParcels().length === 0">
      <td colspan="4" style="text-align: center">No parcels available.</td>
    </tr>
    <tr *ngFor="let parcel of GetParcels()">
      <td>
        <span class="tracking-id" (click)="copyTrackingNumber(parcel)">
          {{ copiedParcelId === parcel.id ? "Copied!" : parcel.trackingNumber }}
        </span>
      </td>
      <td>{{ parcel.name }}</td>
      <td>{{ parcel.weight }}</td>
      <td>
        <select
          [ngModel]="parcel.status"
          (ngModelChange)="onStatusChange(parcel, $event)"
        >
          <option *ngFor="let status of GetStatusOptions()" [value]="status">
            {{ status }}
          </option>
        </select>
      </td>
      <td>{{ parcel.recipient }}</td>
      <td>{{ parcel.deliveryAddress }}</td>
      <td class="actions">
        <button (click)="editParcel(parcel.id)" class="btn btn-warning btn-sm">
          Edit
        </button>
        <button
          (click)="openConfirmDialog(parcel.id)"
          class="btn btn-danger btn-sm"
        >
          Delete
        </button>
      </td>
    </tr>
  </tbody>
</table>

<button routerLink="/add" class="btn btn-primary" type="button">
  Add Parcel
</button>

<app-confirm-dialog
  *ngIf="showConfirmDialog"
  (confirmed)="handleConfirm($event)"
  message="Are you sure you want to delete this parcel? This action cannot be undone."
  confirmButtonText="Delete"
  cancelButtonText="Cancel"
>
</app-confirm-dialog>
